// person.js
// dependencies: none

"use strict";
var app = app || {};

let characterImage = new Image();
characterImage.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAwCAMAAABHcohdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ2MCwgMjAyMC8wNS8xMi0xNjowNDoxNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjIgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE1OTU5REE4MjMzRjExRUU5MzhFQzAyOEE5MjgyMjFDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE1OTU5REE5MjMzRjExRUU5MzhFQzAyOEE5MjgyMjFDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTU5NTlEQTYyMzNGMTFFRTkzOEVDMDI4QTkyODIyMUMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTU5NTlEQTcyMzNGMTFFRTkzOEVDMDI4QTkyODIyMUMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4DVYtyAAAAYFBMVEXx9POQk5s7Ii9GKjaQTjxmLywrGShVWWY1WTbVYWAxQ2ueLDT4MzqhVkIoODpZOkIUEiFgY29CbkQaIyy2u71JR2BoPDbi6ukNDh9DnUF8gorcLzd+PzVAmUD///8AAABdX6eUAAAAIHRSTlP/////////////////////////////////////////AFxcG+0AAAGJSURBVHjatNRdk6sgDAZgGyBYqZjWL2q1/P9/uQHpWW1xz+zFvoN6kceIccbC/yfF3wD7ygG4Tac10y0LSl081xR9mQXX5yvXI6C7sR87/dRHYOrGqeimww6vPRx10GOqj3ngvdbdc5z0VR8NqmxP46nk/APkiJeLlzjKU9duR02IvFIogLbcfotUBCEEJLH7WAQpomkEwJsofLi1SfUmtACBW+CQO0fAdT4HLtwGEK4VsdbXB7ldh7g5SOcABO46cIvQOIY3EAHtHpESXwCjpE+gAL8nta2HPYTblHgNA5D2cyCK4DvbV0iTZKJmKQGkHHAeMoAbSFkj1vXg5Cfwbqi5QQ3wA5Cc85nVuc4AD8Ms6wj4EBngKWxSxkMBZQBeFFplDNi3cgLKXIyozOPRVMqoT+DM5WGaAPp+fpjMWyjj1FBVtqr6GfAT3Cw421dty4Y/xe0d3BdLra36FhkQ2eW+B/dl4dXijLxoCbnvwJLJ74D3P5QT2BG/5P6TB7f/3a/4V+BLgAEAYgKN4twoN/wAAAAASUVORK5CYII=";

let characterImage_1 = new Image();
characterImage_1.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAwCAMAAABHcohdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ2MCwgMjAyMC8wNS8xMi0xNjowNDoxNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjIgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkJDREREODA4MjMzRjExRUVCMTIxREI2RDg3MkRBMUZCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkJDREREODA5MjMzRjExRUVCMTIxREI2RDg3MkRBMUZCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QkNEREQ4MDYyMzNGMTFFRUIxMjFEQjZEODcyREExRkIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QkNEREQ4MDcyMzNGMTFFRUIxMjFEQjZEODcyREExRkIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5NHpYPAAAAYFBMVEWWUCJYXmbIpXfx9PPPcRmHi5MSGSCPb1TrhxXsxY4yVzXtjytPLyh0RSq0jWXjtIE/SlXzeGORLS+6XCvtRTzDZR+9KinffhS2u70nOzM9kED7ojri6ulAmUD///8AAADwiXjFAAAAIHRSTlP/////////////////////////////////////////AFxcG+0AAAF6SURBVHja1JTdtkNADIUzRTCS0g4dU9T7v+XJKMdPx+rtOZu9XMy3ki2xwPhF8EcBt+gEUMkiFQS0il5v9ZUOA69F6gxQbV9FrToHkrZPojY5B7wkSHQG9EvIFXBOO72+p2pffaKUWudAjojWGpj0iRYtAHLWdYXFdZRJi5tRO7DWZjHjrKnjdhcI/twAMKfAwPq4LCQTW2gyUdd1WUbuCDAANZnvY72k2SfQ2I0adltAe6CYChRWnnKbTQnQiMw8AUXh706a7AEfn4vOStTZR8DwlMLEmXdmml2L0TExAUBsmnhyA/uQowxPKgCYt6Ah/Piq0QNlfsVLfsEy/QRGSq8zIA4BeC1NmV9IKlCwAqZ5XublzTsPAaOrLvmskoMA3UyapuLbft+/wL1+kHuI6491TxnudV1zVdd372DIFKuqUnLhFQKAZvKAEyNVgRaDQwHcBKAejsDwHIYBGd0TiXHwOgAbPYcAsCN2x2uGb8CW+R9/2p1+BBgAZDmVmltVr3cAAAAASUVORK5CYII=";

app.PersonData = {
	type: "Person",
	personImages: [characterImage, characterImage_1],
}

app.Person = function(){
	
	// Set up the person
	function Person(posX, posY, style){
		this.posX = posX;
		this.posY = posY;
		this.type = app.PersonData.type;
		this.style = style;
		this.width = 1;
		this.height = 1;
		app.objects[posY][posX] = {o:this, r:1};
	} // end Person Constructor
	
	
	var p = Person.prototype;
		
	// Draw the person
	p.draw = function(ctx, O_W, O_H, E_W, E_H) {
		let image = app.PersonData.personImages[this.style];
		ctx.drawImage(image, (this.posX-O_W)*app.t_s-E_W, (this.posY-O_H)*app.t_s-E_H + app.t_s - image.height, image.width, image.height);
	};

	p.doAction = function() {
		app.topDown.chatStatus = Math.floor(Math.random() * 10) + 1;
	}
	
	return Person; 
}();
