/*
loader.js
variable app is in global scope - i.e. a property of window.
app is our single global object literal
*/
"use strict";

// if app exists use the existing copy
// else create a new object literal
var app = app || {};

// CONSTANTS
// Use w-a-s-d
app.KEYBOARD = {
	"KEY_LEFT": 37, 
	"KEY_UP": 38, 
	"KEY_RIGHT": 39, 
	"KEY_DOWN": 40,
	"KEY_SPACE": 32,
	"KEY_ENTER": 13,
	"KEY_CREATE": 67
};

app.t_s = 8;
app.w_w = 120;
app.w_h = 40;

app.TERRAIN_IMAGES = {}

let tileImage_0 = new Image();
tileImage_0.src = "data:image/x-ms-bmp;base64,Qk24AAAAAAAAADYAAAAoAAAACAAAAAgAAAABABAAAAAAAIIAAAASCwAAEgsAAAAAAAAAAAAAYwSJJokmiSaJJokmiSaJJmMEiSaJJokmiSaJJokmiSZjBIkmiSaJJokmiSaJJokmYwSJJokmiSaJJokmiSaJJmMEiSaJJokmiSaJJokmiSZjBIkmiSaJJokmiSaJJokmYwSJJokmiSaJJokmiSaJJmMEYwRjBGMEYwRjBGMEYwQAAA==";
app.TERRAIN_IMAGES["0"] = tileImage_0;

let tileImage_1 = new Image();
tileImage_1.src = "data:image/x-ms-bmp;base64,Qk24AAAAAAAAADYAAAAoAAAACAAAAAgAAAABABAAAAAAAIIAAAASCwAAEgsAAAAAAAAAAAAAiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJmMEYwRjBGMEYwRjBGMEYwQAAA==";
app.TERRAIN_IMAGES["1"] = tileImage_1;

let tileImage_2 = new Image();
tileImage_2.src = "data:image/x-ms-bmp;base64,Qk24AAAAAAAAADYAAAAoAAAACAAAAAgAAAABABAAAAAAAIIAAAASCwAAEgsAAAAAAAAAAAAAiSaJJokmiSaJJokmiSZjBIkmiSaJJokmiSaJJokmYwSJJokmiSaJJokmiSaJJmMEiSaJJokmiSaJJokmiSZjBIkmiSaJJokmiSaJJokmYwSJJokmiSaJJokmiSaJJmMEiSaJJokmiSaJJokmiSZjBGMEYwRjBGMEYwRjBGMEYwQAAA==";
app.TERRAIN_IMAGES["2"] = tileImage_2;

let tileImage_3 = new Image();
tileImage_3.src = "data:image/x-ms-bmp;base64,Qk24AAAAAAAAADYAAAAoAAAACAAAAAgAAAABABAAAAAAAIIAAAASCwAAEgsAAAAAAAAAAAAAYwSJJokmiSaJJokmiSaJJmMEiSaJJokmiSaJJokmiSZjBIkmiSaJJokmiSaJJokmYwSJJokmiSaJJokmiSaJJmMEiSaJJokmiSaJJokmiSZjBIkmiSaJJokmiSaJJokmYwSJJokmiSaJJokmiSaJJmMEiSaJJokmiSaJJokmiSYAAA==";
app.TERRAIN_IMAGES["3"] = tileImage_3;

let tileImage_4 = new Image();
tileImage_4.src = "data:image/x-ms-bmp;base64,Qk24AAAAAAAAADYAAAAoAAAACAAAAAgAAAABABAAAAAAAIIAAAASCwAAEgsAAAAAAAAAAAAAiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSYAAA==";
app.TERRAIN_IMAGES["4"] = tileImage_4;

let tileImage_5 = new Image();
tileImage_5.src = "data:image/x-ms-bmp;base64,Qk24AAAAAAAAADYAAAAoAAAACAAAAAgAAAABABAAAAAAAIIAAAASCwAAEgsAAAAAAAAAAAAAiSaJJokmiSaJJokmiSZjBIkmiSaJJokmiSaJJokmYwSJJokmiSaJJokmiSaJJmMEiSaJJokmiSaJJokmiSZjBIkmiSaJJokmiSaJJokmYwSJJokmiSaJJokmiSaJJmMEiSaJJokmiSaJJokmiSZjBIkmiSaJJokmiSaJJokmYwQAAA==";
app.TERRAIN_IMAGES["5"] = tileImage_5;

let tileImage_6 = new Image();
tileImage_6.src = "data:image/x-ms-bmp;base64,Qk24AAAAAAAAADYAAAAoAAAACAAAAAgAAAABABAAAAAAAIIAAAASCwAAEgsAAAAAAAAAAAAAYwRjBGMEYwRjBGMEYwRjBGMEiSaJJokmiSaJJokmiSZjBIkmiSaJJokmiSaJJokmYwSJJokmiSaJJokmiSaJJmMEiSaJJokmiSaJJokmiSZjBIkmiSaJJokmiSaJJokmYwSJJokmiSaJJokmiSaJJmMEiSaJJokmiSaJJokmiSYAAA==";
app.TERRAIN_IMAGES["6"] = tileImage_6;

let tileImage_7 = new Image();
tileImage_7.src = "data:image/x-ms-bmp;base64,Qk24AAAAAAAAADYAAAAoAAAACAAAAAgAAAABABAAAAAAAIIAAAASCwAAEgsAAAAAAAAAAAAAYwRjBGMEYwRjBGMEYwRjBIkmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSaJJokmiSYAAA==";
app.TERRAIN_IMAGES["7"] = tileImage_7;

let tileImage_8 = new Image();
tileImage_8.src = "data:image/x-ms-bmp;base64,Qk24AAAAAAAAADYAAAAoAAAACAAAAAgAAAABABAAAAAAAIIAAAASCwAAEgsAAAAAAAAAAAAAYwRjBGMEYwRjBGMEYwRjBIkmiSaJJokmiSaJJokmYwSJJokmiSaJJokmiSaJJmMEiSaJJokmiSaJJokmiSZjBIkmiSaJJokmiSaJJokmYwSJJokmiSaJJokmiSaJJmMEiSaJJokmiSaJJokmiSZjBIkmiSaJJokmiSaJJokmYwQAAA==";
app.TERRAIN_IMAGES["8"] = tileImage_8;

let tileImage_9 = new Image();
tileImage_9.src = "data:image/x-ms-bmp;base64,Qk24AAAAAAAAADYAAAAoAAAACAAAAAgAAAABABAAAAAAAIIAAAASCwAAEgsAAAAAAAAAAAAAnheeF3sCnhd7AnsCewJ7Ap4XewJ7Ap4XewJ7AnsCewKeF54XewJ7AnsCewJ7AnsCewJ7AnsCewJ7AnsCewJ7AnsCewJ7AnsCewJ7AnsCewJ7AnsCewKeF54XewJ7AnsCnhd7AnsCewJ7AnsCewJ7AnsCewKeF3sCnheeF54XewIAAA==";
app.TERRAIN_IMAGES["9"] = tileImage_9;

let tileImage_10 = new Image();
tileImage_10.src = "data:image/x-ms-bmp;base64,Qk24AAAAAAAAADYAAAAoAAAACAAAAAgAAAABABAAAAAAAIIAAAASCwAAEgsAAAAAAAAAAAAAewJ7AnsCewKeF3sCewKeF3sCewJ7AnsCnhd7AnsCnhd7AnsCewJ7AnsCewKeF54XewJ7AnsCewJ7AnsCewKeF3sCewJ7AnsCewKeF3sCnhd7AnsCewJ7AnsCewJ7Ap4XewJ7AnsCewJ7AnsCnheeF3sCewJ7AnsCnhd7Ap4XnhcAAA==";
app.TERRAIN_IMAGES["A"] = tileImage_10;

let tileImage_11 = new Image();
tileImage_11.src = "data:image/x-ms-bmp;base64,Qk24AAAAAAAAADYAAAAoAAAACAAAAAgAAAABABAAAAAAAIIAAAASCwAAEgsAAAAAAAAAAAAAewJ7Ap4XnheeF3sCewJ7Ap4XewKeF54Xnhd7AnsCewJ7AnsCnheeF54XewJ7AnsCewKeF54Xnhd7AnsCewKeF3sCnheeF54XewJ7AnsCewJ7Ap4XnheeF54XewJ7AnsCnheeF3sCnheeF3sCewJ7Ap4XnheeF54Xnhd7AnsCewIAAA==";
app.TERRAIN_IMAGES["B"] = tileImage_11;

app.wholeObstacle = ["9", "A", "B"] ;

app.terrains = "\
011111111111111111299011111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111112\
344444444444444444599344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
3444444444444444445A9344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444599344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
3444444444444444445A9344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
34444444444444444459B344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444599344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444599344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444599344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
3444444444444444445A9344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444599344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444599344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444599344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
3444444444444444445A9344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
3444444444444444445A9344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444599344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444599344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
34444444444444444459B344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
3444444444444444445B9344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
3444444444444444445B9344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
34444444444444444459B344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
34444444444444444459B344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
34444444444444444459B344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444411444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
344444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444445\
677777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777778"

app.COVER_IMAGES = {}

let coverImage_0 = new Image();
coverImage_0.src = "data:image/gif;base64,R0lGODlhCAAIAKIAAAAAAP///+Y6QilaQkKMSv+tMf///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAGACwAAAAACAAIAAADD2i63FyuCMgIXcSMUblzCQA7";
app.COVER_IMAGES["1"] = coverImage_0;

let coverImage_1 = new Image();
coverImage_1.src = "data:image/gif;base64,R0lGODlhCAAIAKIAAAAAAP///wCc3ilaQkKMSv+tMf///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAGACwAAAAACAAIAAADD2gm2lvMrSEbMYNaXbtvCQA7";
app.COVER_IMAGES["2"] = coverImage_1;

let coverImage_2 = new Image();
coverImage_2.src = "data:image/gif;base64,R0lGODlhCAAIAKIAAAAAAP///+Y6QilaQkKMSv+tMfdzIf///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAHACwAAAAACAAIAAADE3gqJ6zKlDfGIQaeQZbuWiiOYQIAOw==";
app.COVER_IMAGES["3"] = coverImage_2;

let coverImage_3 = new Image();
coverImage_3.src = "data:image/gif;base64,R0lGODlhCAAIAKIAAAAAAP///ylaQkKMSv///wAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAEACwAAAAACAAIAAADDki6rNKOjbgmtApLSGYCADs=";
app.COVER_IMAGES["4"] = coverImage_3;

let coverImage_4 = new Image();
coverImage_4.src = "data:image/gif;base64,R0lGODlhCAAIAKIAAAAAAP///ylaQkKMSv///wAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAEACwAAAAACAAIAAADDkhCNMyrSfVmvc7OjO9NADs=";
app.COVER_IMAGES["5"] = coverImage_4;

let coverImage_5 = new Image();
coverImage_5.src = "data:image/gif;base64,R0lGODlhCAAIAKIAAAAAAP///ylaQkKMSv///wAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAEACwAAAAACAAIAAADDki6O+wEKskqbZWJTDZJADs=";
app.COVER_IMAGES["6"] = coverImage_5;

app.covers = "\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000060004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000005000200600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000603000034000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000023000003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"

app.OBJECT_IMAGES = [];

let treeImage = new Image();
treeImage.src = "data:image/gif;base64,R0lGODlhEAAQALMAAAAAAP///0IpMRkQIRk6QilaQkKMSmPFSv///wAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAIACwAAAAAEAAQAAAETBDJicagmA5zbtbcYXhfFXZlVRjh+A3rKZISbMSnOw3EWsQi3a7nYxVoFYJluVTufAUC8cfxwKi/IsvK67G+N8uumWW+BgKBOFVbUyIAOw==";
app.OBJECT_IMAGES.push(treeImage);

let treerootImage = new Image();
treerootImage.src = "data:image/gif;base64,R0lGODlhCAAIAKIAAAAAAP///0IpMRkQIealc7VrUnNCOv///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAHACwAAAAACAAIAAADFXi6fDPtEbgGKVSNYrITHTOA3hgeCQA7";
app.OBJECT_IMAGES.push(treerootImage);

let stoneImage = new Image();
stoneImage.src = "data:image/gif;base64,R0lGODlhEAAQAKIAAAAAAP///xkQIVprjIyctb3O3v///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAGACwAAAAAEAAQAAADOWi63P5wiTnjJCUT8QTO4OYIYCkyXhmeCqkWRMxJnxbL6K3Hw0x5u4GQM9EAhUif7vdDUSLQqNSQAAA7";
app.OBJECT_IMAGES.push(stoneImage);

let houseImage = new Image();
houseImage.src = "data:image/gif;base64,R0lGODlhEAAQAKIAAAAAAP///0IpMRkQIbVrUnNCOv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAGACwAAAAAEAAQAAADUGi6NsNwuVJcVE4UTYiVA0VpVGcNAkkWXemhY+ya4ZqyhJttqTDhlEzv96OlirlKqNIIDTpQj+/R0DwdHimzWnllYVSw12TFWB3oHbV5YRsSADs=";
app.OBJECT_IMAGES.push(houseImage);

let characterImage = new Image();
characterImage.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///zExUkpKc5yttcXezuaUSs5rOpxCOmspKZRra////wAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAALACwAAAAACAAIAAAEH3AtQIGcJhsLjv9cgiCJNY0jVxDDQBQUIrQCwikUvkQAOw==";
app.OBJECT_IMAGES.push(characterImage);

let treeImage_1 = new Image();
treeImage_1.src = "data:image/gif;base64,R0lGODlhEAAQAKIAAAAAAP///xkQIRk6QilaQkKMSmPFSv///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAHACwAAAAAEAAQAAADVngqLPrwsGJMYfGJyk3DS0FxU3U5AiVaW+dJhBh/nMgQOFNPszSkLlaB4JCIRiYbMRQ7HolFAU5GxS1hg9h0OMhGu9ZsltAt+rpjcjkiQLt/GcmnAUkAADs=";
app.OBJECT_IMAGES.push(treeImage_1);

let treerootImage_1 = new Image();
treerootImage_1.src = "data:image/gif;base64,R0lGODlhCAAIAKIAAAAAAP///0IpMRkQIbVrUnNCOv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAGACwAAAAACAAIAAADFmhqM6uDELdGmbAJ4eJs0EVB25g9RgIAOw==";
app.OBJECT_IMAGES.push(treerootImage_1);

let stoneImage_1 = new Image();
stoneImage_1.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///xkQIbW9zlprjIycta29zr3O3v///wAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAIACwAAAAACAAIAAAEGRDJOYWlSJxzcxlbIWQEYYSjUBbsmFkdJkUAOw==";
app.OBJECT_IMAGES.push(stoneImage_1);

let stoneImage_2 = new Image();
stoneImage_2.src = "data:image/gif;base64,R0lGODlhEAAQAKIAAAAAAP///xkQIVprjIyctb3O3v///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAGACwAAAAAEAAQAAADRGhq0vtQlClgnLhaRvAkWtR5RfgIxJhtaOqBYuqWjaMIg5yiGMzkMh6pggOCZK/GYJnD6YJFZlQ3IDKXUWyoxuVuvo8EADs=";
app.OBJECT_IMAGES.push(stoneImage_2);

let houseImage_1 = new Image();
houseImage_1.src = "data:image/gif;base64,R0lGODlhEAAgALMAAAAAAP///0IpMRkQIealc7VrUnNCOtbOzvfv7+be3v///wAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAKACwAAAAAEAAgAAAEtVDJOeqYGI9iTLkZJXTcFyrD2HkeKAqCVRWmlBrjQNAbd92qjUFI+wxwnVghxvLdOrPhsWTBDQ7HK5Y1s2BlYGFuOqURKjvacIw0hi0JS22QSBziwzrCYrvjPwkIexoHdykfCIEuKH5kcXGEWGZ0A4MUhjJ6i1p1nYGWKHSdiYmKP3lxX3p7Z1mGqpqtOXWqiTpGMFJhaRUwKiUEwUW9viMjJR4mQCvHySC9JCRqFRpv1CfYExEAOw==";
app.OBJECT_IMAGES.push(houseImage_1);

let houseImage_2 = new Image();
houseImage_2.src = "data:image/gif;base64,R0lGODlhEAAQALMAAAAAAP///0IpMRkQISkpQjpCY1prjLVrUnNCOv///wAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAJACwAAAAAEAAQAAAETTDJSYe1VF4rkBdDsnlkiXCdiaQrR3ZCbKKymYJDHcNzvrKfHU4mjG0uwqPldDoeDgODdHCCUi1Pz6VpfXq/4KVqfCkQCubzOY1RukMRADs=";
app.OBJECT_IMAGES.push(houseImage_2);

let characterImage_1 = new Image();
characterImage_1.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///60hMTExUkpKc6WtSmtjMf/Orc5rOv+llJxCOmspKf///wAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAMACwAAAAACAAIAAAEIpABRRWQa9F8gTiHcEkJmHSFQRBGAQDHsA5Hh7w3o7+vHgEAOw==";
app.OBJECT_IMAGES.push(characterImage_1);

let characterImage_2 = new Image();
characterImage_2.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///zEhMZyttcXezuaUSs5rOmspKf///wAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAIACwAAAAACAAIAAAEHxCQSQECIw97TykHBxifYUkDIaQAUKTEUJzpKrY4EgEAOw==";
app.OBJECT_IMAGES.push(characterImage_2);

let characterImage_3 = new Image();
characterImage_3.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///60hMTEhMUIxSsXezq2Ue/+llJRra////wAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAJACwAAAAACAAIAAAEHjAlQIGc5Zxip9Yd8B0WYCAEgRjUMaQDOQkUfd1SBAA7";
app.OBJECT_IMAGES.push(characterImage_3);

let characterImage_4 = new Image();
characterImage_4.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///++EnOat72tCc5RarZyttcXezpxCOv///wAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAJACwAAAAACAAIAAAEHDAlYAyQ8yB07tybB4DINRZoUY7CMAgrIc/eVEcAOw==";
app.OBJECT_IMAGES.push(characterImage_4);

let foodImage_0 = new Image();
foodImage_0.src = "data:image/gif;base64,R0lGODlhCAAIAKIAAAAAAP////8ASnshUqXWxf/Orf///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAGACwAAAAACAAIAAADE2i63C3iFcgGHAqboQ3x3McQYgIAOw==";
app.OBJECT_IMAGES.push(foodImage_0);

let foodImage_1 = new Image();
foodImage_1.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP////8ASv9zpXshUiEpUqXWxf/Orf///wAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAIACwAAAAACAAIAAAEGhBJIaQVRxCLqL7esHUZYV7mKBlFYVhGSrwRADs=";
app.OBJECT_IMAGES.push(foodImage_1);

app.objects = []
for(let i=0; i<app.w_h; i++){
	app.objects.push([]);
	for(let j=0; j<app.w_w; j++){
		app.objects[i].push(null);
	}
}

app.objects[10][10] = {i:0, r:1};
app.objects[10][11] = {i:0, r:0};
app.objects[10][40] = {i:0, r:1};
app.objects[10][41] = {i:0, r:0};
app.objects[20][30] = {i:1, r:1};
app.objects[30][70] = {i:2, r:1};
app.objects[30][71] = {i:2, r:0};
app.objects[29][70] = {i:2, r:0};
app.objects[29][71] = {i:2, r:0};
app.objects[20][25] = {i:2, r:1};
app.objects[20][26] = {i:2, r:0};
app.objects[19][25] = {i:2, r:0};
app.objects[19][26] = {i:2, r:0};
app.objects[30][90] = {i:2, r:1};
app.objects[30][91] = {i:2, r:0};
app.objects[29][90] = {i:2, r:0};
app.objects[29][91] = {i:2, r:0};
app.objects[20][50] = {i:4, r:1};

app.PLAYER_IMAGES = [];

let up_images = [];
let up_0 = new Image();
up_0.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///60hMTEhMTExUkpKc/+llOY6OveEhP///wAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAJACwAAAAACAAIAAAEITCBQgtIshBiMTAIYlySYY4SdxwaACBCLCAXMLg3JrlkBAA7";
up_images.push(up_0);

let up_1 = new Image();
up_1.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///60hMTEhMTExUkpKc/+llOY6OveEhP///wAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAJACwAAAAACAAIAAAEIjCBQgtIshBiMTAIYlwAYZwGAQBIcRwFQgq0cEnDmmPSekcAOw==";
up_images.push(up_1);

let up_2 = new Image();
up_2.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///60hMWNSYzExUkpKc/+llOY6OveEhP///wAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAJACwAAAAACAAIAAAEHzCBQgtIshBiMTAIYlySYY4Sdxwa8AmwQLruQEo0FgEAOw==";
up_images.push(up_2);

let up_3 = new Image();
up_3.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///60hMWNSYzExUkpKc/+llOY6OveEhP///wAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAJACwAAAAACAAIAAAEHzCBQgtIshBiMTAIYlySYY4Sdxwa8AmwQLruQEo0FgEAOw==";
up_images.push(up_3);

app.PLAYER_IMAGES.push(up_images);

let right_images = [];
let right_0 = new Image();
right_0.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///60hMTEhMWNSYzExUkpKc/+llOY6OveEhP///wAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAKACwAAAAACAAIAAAEIFABQw2QJRer5PnJ5X3HBRRCgWwAkAgIIpTS0BKi1IoRADs=";
right_images.push(right_0);

let right_1 = new Image();
right_1.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///60hMTEhMWNSYzExUkpKc/+llOY6OveEhP///wAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAKACwAAAAACAAIAAAEIFABQw2QJRer5PnJBRTfZwGJUCCkKCCIcEkDABCzZM8RADs=";
right_images.push(right_1);

let right_2 = new Image();
right_2.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///60hMTEhMWNSYzExUkpKc/+llOY6OveEhP///wAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAKACwAAAAACAAIAAAEH1ABQw2QJRer5PnJ5X2HCAgFcnAngggXMAA0IUq0GAEAOw==";
right_images.push(right_2);

let right_3 = new Image();
right_3.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///60hMTEhMWNSYzExUkpKc/+llOY6OveEhP///wAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAKACwAAAAACAAIAAAEH1ABQw2QJRer5PnJ5X3HBSRCgWymgCBCKQ0AAYh3fkUAOw==";
right_images.push(right_3);

app.PLAYER_IMAGES.push(right_images);

let down_images = [];
let down_0 = new Image();
down_0.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///60hMWNSYzExUkpKc/+llOY6OveEhP///wAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAJACwAAAAACAAIAAAEHzCBQgtIkmhyJTIG0gEgeE3EcRAWKaiCcQ4AQGNS3UUAOw==";
down_images.push(down_0);

let down_1 = new Image();
down_1.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///60hMWNSYzExUkpKc/+llOY6OveEhP///wAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAJACwAAAAACAAIAAAEHzCBQgtIkmhyJTIGck0gaAEGcRyEMQqr0AEDQHeS3UUAOw==";
down_images.push(down_1);

let down_2 = new Image();
down_2.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///60hMWNSYzExUkpKc/+llOY6OveEhP///wAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAJACwAAAAACAAIAAAEHzCBQgtIkmhyJTIG0gEgeJHEcRCWJKiCiAH00El0FwEAOw==";
down_images.push(down_2);

let down_3 = new Image();
down_3.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///60hMWNSYzExUkpKc/+llOY6OveEhP///wAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAJACwAAAAACAAIAAAEHzCBQgtIkmhyJTIG0gEgeE3EcRAGACCCKoyD20m2m0QAOw==";
down_images.push(down_3);

app.PLAYER_IMAGES.push(down_images);

let left_images = [];
let left_0 = new Image();
left_0.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///60hMTEhMWNSYzExUkpKc/+llOY6OveEhP///wAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAKACwAAAAACAAIAAAEIFABQw1Q0pRdLkhHeEmhmBVIIXTAISCIkHgEAAyjZI8RADs=";
left_images.push(left_0);

let left_1 = new Image();
left_1.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///60hMTEhMWNSYzExUkpKc/+llOY6OveEhP///wAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAKACwAAAAACAAIAAAEIVABQw1Q0pRdLkhH6Blh2AFHgRRC4gkIIlwSAQADLd10BAA7";
left_images.push(left_1);

let left_2 = new Image();
left_2.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///60hMTEhMWNSYzExUkpKc/+llOY6OveEhP///wAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAKACwAAAAACAAIAAAEIFABQw1Q0pRdLkhHeEmhmBVIISQAcAgIIowtAQx0qysRADs=";
left_images.push(left_2);

let left_3 = new Image();
left_3.src = "data:image/gif;base64,R0lGODlhCAAIALMAAAAAAP///60hMTEhMWNSYzExUkpKc/+llOY6OveEhP///wAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAKACwAAAAACAAIAAAEH1ApQIGcJhuLiy8WkBwkB5BlhxRCQh0CgggmQACDFQEAOw==";
left_images.push(left_3);

app.PLAYER_IMAGES.push(left_images);

// properties of app that will be accessed by the topDown.js module
app.animationID = undefined;
app.paused = false;

// app.keydown array to keep track of which keys are down
// this is called a "key daemon"
// topDown.js will "poll" this array every frame
// this works because JS has "sparse arrays" - not every language does
app.keydown = [];


// the Modernizr object is from the modernizr.custom.js file
window.onblur = function(){
	app.paused = true;
	cancelAnimationFrame(app.animationID);
	app.keydown = []; // clear key daemon
	
	// createjs.Sound.stop();
	// call update() so that our paused screen gets drawn
	app.topDown.update();
};

window.onfocus = function(){
	app.paused = false;
	cancelAnimationFrame(app.animationID);
	
	app.topDown.startSoundtrack();
	// start the animation back up
	app.topDown.update();
};

// event listeners
window.addEventListener("keydown",function(e){
	//console.log("keydown=" + e.keyCode);
	app.keydown[e.keyCode] = true;
});
	
window.addEventListener("keyup",function(e){
	//console.log("keyup=" + e.keyCode);
	app.keydown[e.keyCode] = false;
});

// //Load sounds
// createjs.Sound.alternateExtensions = ["mp3"];
// // gun2.mp3 - BlastWaveFx - Soundbible.com - Modified by Bryce Lockwood
// createjs.Sound.registerSound({id:"tree", src:"sounds/gun2.ogg"});
// // backgroundMusic.mp3 - Decrease Superior Technician - www.nosoapradio.us
// createjs.Sound.registerSound({id:"background", src:"sounds/backgroundMusic.ogg"});

// createjs.Sound.addEventListener("fileload", handleFileLoad);

// function handleFileLoad(e){
// 	if(e.src == "sounds/backgroundMusic.ogg")
// 	{
// 		app.topDown.startSoundtrack();
// 	}
// }

// start game
app.topDown.init();
